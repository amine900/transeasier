<form id="account" [formGroup]="overviewForm">
    <h3 class="mb-4">Account overview</h3>
    <p [ngStyle]="{'color':'white', 'background-color': auth.overviewmsg == 'updated successfully'? 'green' : 'red' }" class="msg">{{auth.overviewmsg}}</p>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>First Name</label>
                <input type="text" class="form-control" formControlName="firstName" [ngClass]="{'is-invalid': (overviewForm.get('firstName').touched || overviewForm.get('firstName').dirty) && overviewForm.get('firstName').invalid }">
                <span class="invalid-feedback mb-3">
                    <span *ngIf="overviewForm.get('firstName').errors?.required">
                        You need to enter your first name.
                    </span>
                    <span *ngIf="overviewForm.get('firstName').errors?.minlength">
                        The first name must be longer than 3 characters.
                    </span>
                </span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>Last Name</label>
                <input type="text" class="form-control" formControlName="lastName" [ngClass]="{'is-invalid': (overviewForm.get('lastName').touched || overviewForm.get('lastName').dirty) && overviewForm.get('lastName').invalid }">
                <span class="invalid-feedback mb-3">
                    <span *ngIf="overviewForm.get('lastName').errors?.required">
                        You need to enter your last name.
                    </span>
                    <span *ngIf="overviewForm.get('lastName').errors?.minlength">
                        The last name must be longer than 3 characters.
                    </span>
                </span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>Email</label>
                <input type="text" class="form-control" formControlName="email" [ngClass]="{'is-invalid': 
                (overviewForm.get('email').touched ||
                 overviewForm.get('email').dirty) &&
                 overviewForm.get('email').invalid }">
                <span class="invalid-feedback">
                    <span *ngIf="overviewForm.get('email').errors?.required">
                        You need to enter your email address.
                    </span>
                    <span *ngIf="overviewForm.get('email').errors?.email">
                        enter a valid email address.
                    </span>
                </span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>Phone number</label>
                <input type="text" class="form-control" formControlName="phone" [ngClass]="{'is-invalid': (overviewForm.get('phone').touched || overviewForm.get('phone').dirty) && overviewForm.get('phone').invalid }">
                <span class="invalid-feedback mb-3">
                    <span *ngIf="overviewForm.get('phone').errors?.required">
                        You need to enter your phone number.
                    </span>
                    <span
                        *ngIf="overviewForm.get('phone').errors?.minlength || overviewForm.get('phone').errors?.maxlength || overviewForm.get('phone').errors?.pattern">
                        The phone number must contain 8 digits.
                    </span>
                </span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>Gender</label>
                <select class="form-select" aria-label="Default select example" formControlName="gender">
                    <option value="null"></option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>Date of birth</label>
                <input type="text" class="form-control" value="12/04/1990" formControlName="birthDate">
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group">
                <label>Bio</label>
                <textarea class="form-control" rows="4" formControlName="bio"></textarea>
            </div>
        </div>
    </div>
    <div>
        <button class="btn update" [disabled] = "overviewForm.invalid"
        (click)="updateAll(overviewForm.get('firstName').value, overviewForm.get('lastName').value, overviewForm.get('email').value, overviewForm.get('phone').value, overviewForm.get('gender').value, overviewForm.get('birthDate').value, overviewForm.get('bio').value)"
        type="button">Update</button>
    </div>
</form>